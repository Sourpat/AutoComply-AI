# ═══════════════════════════════════════════════════════════════════════════
# AutoComply AI - Frontend Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# API Configuration
# ───────────────────────────────────────────────────────────────────────────
# Backend API Base URL
#
# DEVELOPMENT:
#   Option 1 (recommended): Leave empty or comment out to use Vite proxy
#     VITE_API_BASE_URL=
#     → Vite dev server proxies API requests to http://127.0.0.1:8001
#     → src/lib/api.ts auto-detects localhost and uses correct backend URL
#     → No CORS issues, cleaner network tab
#
#   Option 2: Set explicit backend URL (bypasses proxy)
#     VITE_API_BASE_URL=http://127.0.0.1:8001
#     → Direct API calls to backend (may show CORS preflight requests)
#
# PRODUCTION (REQUIRED):
#   Must set to your deployed backend URL at BUILD TIME
#     VITE_API_BASE_URL=https://autocomply-backend-xxxxx.onrender.com
#     → Render example (replace xxxxx with your service ID)
#   Or:
#     VITE_API_BASE_URL=https://api.autocomply.example.com
#     → Custom domain example
#
#   ⚠️  CRITICAL: Set via platform environment variables for hosted deployments
#       (Render, Vercel, Netlify, Railway, etc.)
#   ⚠️  This value is embedded at BUILD TIME, not runtime
#
# Default (production): Render backend URL
# TODO: Replace with actual Render backend URL once deployed
VITE_API_BASE_URL=https://autocomply-ai.onrender.com

# Local development (uncomment to use localhost backend):
# VITE_API_BASE_URL=http://127.0.0.1:8001

# Other production examples:
# VITE_API_BASE_URL=https://api.autocomply.example.com

# ───────────────────────────────────────────────────────────────────────────
# Application Environment
# ───────────────────────────────────────────────────────────────────────────
# Environment: "dev" or "prod"
# - dev: Development mode with debug features enabled
# - prod: Production mode with optimizations
VITE_APP_ENV=dev

# ───────────────────────────────────────────────────────────────────────────
# Feature Flags
# ───────────────────────────────────────────────────────────────────────────
# Control visibility of admin navigation items (Review Queue, Ops)
#
# DEFAULT BEHAVIOR (no env vars set):
#   - Review Queue and Ops tabs ARE VISIBLE in navigation
#   - Same behavior for localhost and Vercel production
#
# To ENABLE explicitly (shows tabs):
#   VITE_ENABLE_REVIEW_QUEUE=1
#   VITE_ENABLE_OPS=1
#
# To DISABLE explicitly (hides tabs):
#   VITE_ENABLE_REVIEW_QUEUE=0
#   VITE_ENABLE_OPS=0
#
# NOTE: Routes are still accessible via direct URL even if hidden from nav
VITE_ENABLE_REVIEW_QUEUE=1
VITE_ENABLE_OPS=1

# Governance demo mode (one-click demo flow)
# - true: show Run Demo button for governance narrative
# - false: hide demo flow (default off)
VITE_FEATURE_GOV_DEMO=false

# Execution preview (read-only SDX panel)
# - true: render execution preview sections
# - false: hide execution preview UI (default off)
VITE_FEATURE_EXEC_PREVIEW=false

# Build commit SHA (auto-populated by deployment platforms)
# Vercel: Set to $(git rev-parse HEAD) in build settings
# Render: Set to $RENDER_GIT_COMMIT in environment variables
VITE_GIT_SHA=

# ───────────────────────────────────────────────────────────────────────────
# Admin Access Configuration (Demo/Development)
# ───────────────────────────────────────────────────────────────────────────
# Set to "true" to show Review Queue in navigation by default (for demo/development)
# In production, leave as "false" to require login
VITE_ADMIN_MODE=false

# Admin passcode for accessing Review Queue
# Change this in production or for demos
VITE_ADMIN_PASSCODE=admin123

# ═══════════════════════════════════════════════════════════════════════════
# Usage Instructions
# ═══════════════════════════════════════════════════════════════════════════
# 
# LOCAL DEVELOPMENT
# -----------------
# 1. Copy this file to .env in the frontend directory:
#    cp .env.example .env
#
# 2. For development with Vite proxy (recommended):
#    - Leave VITE_API_BASE_URL empty (or comment it out)
#    - Backend runs on http://127.0.0.1:8001
#    - Vite dev server proxies API requests automatically
#    - No CORS issues
#
# 3. For development without proxy:
#    - Set VITE_API_BASE_URL=http://127.0.0.1:8001
#    - Direct API calls to backend
#
# PRODUCTION DEPLOYMENT (Render, Vercel, Netlify, etc.)
# ------------------------------------------------------
# 1. DO NOT copy .env to production servers
#    → Environment variables are set via platform dashboard
#
# 2. Set VITE_API_BASE_URL via platform environment variables:
#    Platform: Render Static Site
#      → Go to Environment tab
#      → Add: VITE_API_BASE_URL=https://autocomply-backend-xxxxx.onrender.com
#      → Save (triggers rebuild)
#
#    Platform: Vercel
#      → Go to Settings → Environment Variables
#      → Add: VITE_API_BASE_URL=https://your-backend-url.com
#      → Deploy
#
#    Platform: Netlify
#      → Go to Site settings → Environment variables
#      → Add: VITE_API_BASE_URL=https://your-backend-url.com
#      → Deploy
#
# 3. Other production environment variables:
#    - VITE_APP_ENV=prod (enables production mode)
#    - VITE_ADMIN_MODE=false (hide admin features by default)
#    - VITE_ADMIN_PASSCODE=<secure-value> (change from default)
#
# 4. CRITICAL NOTES:
#    ⚠️  VITE_API_BASE_URL is embedded at BUILD TIME (npm run build)
#    ⚠️  Changing it requires rebuilding and redeploying the frontend
#    ⚠️  Platform auto-rebuilds when environment variables change
#    ⚠️  Always verify VITE_API_BASE_URL matches your backend URL exactly
#
# 5. Verification:
#    After deployment, open browser console and run:
#      import.meta.env.VITE_API_BASE_URL
#    Should show your backend URL (not localhost)
#
# 4. Never commit .env to version control (already in .gitignore)
#
# Note: Vite environment variables must start with VITE_ to be exposed to the client
# ═══════════════════════════════════════════════════════════════════════════

