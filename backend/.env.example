# ═══════════════════════════════════════════════════════════════════════════
# AutoComply AI - Backend Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# Application Environment
# ───────────────────────────────────────────────────────────────────────────
# Environment: "dev" or "prod"
# - dev: Development mode with permissive CORS and verbose logging
# - prod: Production mode with strict CORS and optimized performance
APP_ENV=dev

# Legacy field (for backward compatibility)
ENV=development

# ───────────────────────────────────────────────────────────────────────────
# Server Configuration
# ───────────────────────────────────────────────────────────────────────────
# Port to run the server on (default: 8001)
PORT=8001

# ───────────────────────────────────────────────────────────────────────────
# CORS Origins
# ───────────────────────────────────────────────────────────────────────────
# Comma-separated list of allowed origins for CORS
# - Use "*" for development (allows all origins)
# - Use specific origins for production: "https://yourapp.com,https://admin.yourapp.com"
CORS_ORIGINS=*

# Production example:
# CORS_ORIGINS=https://autocomply.example.com,https://admin.autocomply.example.com

# ───────────────────────────────────────────────────────────────────────────
# Database Configuration
# ───────────────────────────────────────────────────────────────────────────
# Path to SQLite database file (relative to backend root)
DB_PATH=app/data/autocomply.db

# Production example (absolute path):
# DB_PATH=/var/lib/autocomply/autocomply.db

# ───────────────────────────────────────────────────────────────────────────
# Export Configuration
# ───────────────────────────────────────────────────────────────────────────
# Directory for exported files (relative to backend root)
EXPORT_DIR=app/data/exports

# Production example (absolute path):
# EXPORT_DIR=/var/lib/autocomply/exports

# ───────────────────────────────────────────────────────────────────────────
# AI API Keys
# ───────────────────────────────────────────────────────────────────────────
# OpenAI API key for compliance analysis and embeddings
AUTOCOMPLY_OPENAI_KEY=your-openai-key-here

# Google Gemini API key for OCR and vision parsing
AUTOCOMPLY_GEMINI_KEY=your-gemini-key-here

# ───────────────────────────────────────────────────────────────────────────
# n8n / Automation Integration (Optional)
# ───────────────────────────────────────────────────────────────────────────
# Base URL where n8n is reachable from the backend
# In docker-compose this would typically be: http://n8n:5678
# Leave empty for NO-OP mode (safe for local dev)
AUTOCOMPLY_N8N_BASE_URL=

# Optional webhook endpoint for Slack alerts workflow
# Example: /webhook/autocomply/slack-alert
AUTOCOMPLY_N8N_SLACK_WEBHOOK_PATH=

# ───────────────────────────────────────────────────────────────────────────
# Audit Retention Policy (Phase 7.28)
# ───────────────────────────────────────────────────────────────────────────
# Days to retain evidence snapshots before auto-expiring (default: 30)
# After expiry, evidence_snapshot becomes null but evidence_hash remains
EVIDENCE_RETENTION_DAYS=30

# Days to retain intelligence payloads before auto-expiring (default: 90)
# After expiry, intelligence_payload becomes null but input_hash remains
PAYLOAD_RETENTION_DAYS=90

# ───────────────────────────────────────────────────────────────────────────
# SLA Configuration (Phase 7.29)
# ───────────────────────────────────────────────────────────────────────────
# SLA warning threshold in hours for in_review status (default: 24)
# Cases in review longer than this show "warning" status
SLA_IN_REVIEW_WARNING_HOURS=24

# SLA breach threshold in hours for in_review status (default: 72)
# Cases in review longer than this show "breach" status
SLA_IN_REVIEW_BREACH_HOURS=72

# ═══════════════════════════════════════════════════════════════════════════
# Usage Instructions
# ═══════════════════════════════════════════════════════════════════════════
# 1. Copy this file to .env in the backend directory:
#    cp .env.example .env
#
# 2. Update values as needed for your environment
#
# 3. Never commit .env to version control (already in .gitignore)
#
# 4. For production deployment:
#    - Set APP_ENV=prod
#    - Configure specific CORS_ORIGINS
#    - Use absolute paths for DB_PATH and EXPORT_DIR
#    - Add your actual AI API keys
# ═══════════════════════════════════════════════════════════════════════════

